
def get_wiki_page_id(string):
    """get_wiki_page_id.
    Gets a Wikipedia 'page ID' from the article's URL.
    If the passed URL is invalid, simply returns the original string.

    :param string: String to interpret as either a URL or search term
    """
    try:
        parsed = validate_and_parse_url(string)
        if 'wiki' not in parsed.netloc.lower():
            raise ValueError("The URL {} does not appear to belong to a Wikipedia article".format(string))
        ret = parsed.path.split(r'/')[-1]
    except ValueError:
        ret = string
    return ret
